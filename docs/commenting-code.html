<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Bono Usu</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Bono Usu">
  <meta name="generator" content="bookdown 0.1 and GitBook 2.6.7">

  <meta property="og:title" content="Bono Usu" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Bono Usu" />
  
  
  

<meta name="author" content="Jon Calder &amp; Lorenz Walthert">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="line-length.html">
<link rel="next" href="nested-code.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="code-style-guide.html"><a href="code-style-guide.html"><i class="fa fa-check"></i><b>2</b> Code style guide</a><ul>
<li class="chapter" data-level="2.1" data-path="naming.html"><a href="naming.html"><i class="fa fa-check"></i><b>2.1</b> Naming</a><ul>
<li class="chapter" data-level="2.1.1" data-path="naming.html"><a href="naming.html#naming-files"><i class="fa fa-check"></i><b>2.1.1</b> Naming files</a></li>
<li class="chapter" data-level="2.1.2" data-path="naming.html"><a href="naming.html#naming-objects"><i class="fa fa-check"></i><b>2.1.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="assignment.html"><a href="assignment.html"><i class="fa fa-check"></i><b>2.2</b> Assignment</a></li>
<li class="chapter" data-level="2.3" data-path="quotes.html"><a href="quotes.html"><i class="fa fa-check"></i><b>2.3</b> Quotes</a></li>
<li class="chapter" data-level="2.4" data-path="line-indentation.html"><a href="line-indentation.html"><i class="fa fa-check"></i><b>2.4</b> Line indentation</a></li>
<li class="chapter" data-level="2.5" data-path="spacing.html"><a href="spacing.html"><i class="fa fa-check"></i><b>2.5</b> Spacing</a></li>
<li class="chapter" data-level="2.6" data-path="line-length.html"><a href="line-length.html"><i class="fa fa-check"></i><b>2.6</b> Line length</a></li>
<li class="chapter" data-level="2.7" data-path="commenting-code.html"><a href="commenting-code.html"><i class="fa fa-check"></i><b>2.7</b> Commenting code</a><ul>
<li class="chapter" data-level="2.7.1" data-path="commenting-code.html"><a href="commenting-code.html#structuring-code"><i class="fa fa-check"></i><b>2.7.1</b> Structuring code</a></li>
<li class="chapter" data-level="2.7.2" data-path="commenting-code.html"><a href="commenting-code.html#explaining-code"><i class="fa fa-check"></i><b>2.7.2</b> Explaining code</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="nested-code.html"><a href="nested-code.html"><i class="fa fa-check"></i><b>2.8</b> Nested code</a><ul>
<li class="chapter" data-level="2.8.1" data-path="nested-code.html"><a href="nested-code.html#functionals"><i class="fa fa-check"></i><b>2.8.1</b> Functionals</a></li>
<li class="chapter" data-level="2.8.2" data-path="nested-code.html"><a href="nested-code.html#the-pipe-operator"><i class="fa fa-check"></i><b>2.8.2</b> The pipe operator</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>2.9</b> Conditional statements</a><ul>
<li class="chapter" data-level="2.9.1" data-path="conditional-statements.html"><a href="conditional-statements.html#booleans"><i class="fa fa-check"></i><b>2.9.1</b> Booleans</a></li>
<li class="chapter" data-level="2.9.2" data-path="conditional-statements.html"><a href="conditional-statements.html#simplifying-conditionals"><i class="fa fa-check"></i><b>2.9.2</b> Simplifying conditionals</a></li>
<li class="chapter" data-level="2.9.3" data-path="conditional-statements.html"><a href="conditional-statements.html#formulation-of-conditions"><i class="fa fa-check"></i><b>2.9.3</b> Formulation of conditions</a></li>
<li class="chapter" data-level="2.9.4" data-path="conditional-statements.html"><a href="conditional-statements.html#conditional-assignment"><i class="fa fa-check"></i><b>2.9.4</b> Conditional assignment</a></li>
<li class="chapter" data-level="2.9.5" data-path="conditional-statements.html"><a href="conditional-statements.html#avoiding-redundancy"><i class="fa fa-check"></i><b>2.9.5</b> Avoiding redundancy</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="argument-specification.html"><a href="argument-specification.html"><i class="fa fa-check"></i><b>2.10</b> Argument specification</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="workflow-collaboration.html"><a href="workflow-collaboration.html"><i class="fa fa-check"></i><b>3</b> Workflow &amp; collaboration</a></li>
<li class="chapter" data-level="4" data-path="package-development.html"><a href="package-development.html"><i class="fa fa-check"></i><b>4</b> Package development</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bono Usu</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="commenting-code" class="section level2">
<h2><span class="header-section-number">2.7</span> Commenting code</h2>
<p>Commenting code in a broad sense is structuring code. In a narrow sense, it is about explaining <em>why</em> something is done the was it is done, rarely the <em>how</em> also needs to be explained.<br />
Comments always start with <code>#</code> in R. For three levels of granularity, we can use <code>###</code>, <code>##</code> and <code>#</code>.</p>
<div id="structuring-code" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Structuring code</h3>
<p>To structure code, it can be grouped into segments, sections and subsections. We recommend starting with sections only, so as your code base grows, you can extend in both directions of granularity. However, since you don’t want to take it too far with commenting, three levels will hardly be necessary in most cases. Also note that segments use roman numbers, sections arabic numbers and subsections letters. The idea is that segments are represented by the thickest <em>lines</em> (since they represent the top level) and subsections are represented by <em>loose lines</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># good</span>
### ============================================================================
### Segment I
### Description of what the first segment does
## _____________________________________________________________________________
## Section 1
## Description of what the first section does 
<span class="co"># .............................................................................</span>
<span class="co"># Subsection a </span>
<span class="co"># Description of what the first subsection does </span>

<span class="co"># [your code goes here]</span>

<span class="co"># .............................................................................</span>
<span class="co"># Subsection b </span>
<span class="co"># Description of what the second subsection does </span>

<span class="co"># [your code goes here]</span>


### ============================================================================</code></pre></div>
<p>We discourage the use of plain <code>#</code> for a line of comment with the title of the section centered.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># bad</span>
############################ A TITLE GOES HERE #################################</code></pre></div>
<p>The reasons are the following:</p>
<ul>
<li><code>#</code> is rather dominant and has an irregular pattern, which is likely to cause distraction to the eye.</li>
<li>Putting the title in the same line as the separator has two main disadvantages: For every separator, the width of the <code>#</code>s has to be adjusted plus it is tedious to get the title exactly centered. Also, no code is centered, so why should these markers be?</li>
<li>Just plain <code>#</code> allows only one level of granularity.</li>
</ul>
</div>
<div id="explaining-code" class="section level3">
<h3><span class="header-section-number">2.7.2</span> Explaining code</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># good</span>
<span class="kw">sum</span>(x) <span class="co"># used to do xyz below</span>
<span class="co"># bad</span>
<span class="kw">mean</span>(x) <span class="co"># take the mean</span></code></pre></div>
<p>If code is not extremely complex, the user wants to know <em>why</em> someone does something, not <em>how</em> (because he can read the code). Often, it makes sense to organize comments in blocks instead of commenting each and every line. If you are writing a function and its inputs and outputs need to be explained in more depth, create a package for it and use the <code>roxygen2</code> package<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> to generate help files from a comment block at the top of your function. Comments should be put next to the function calls on the same line. If they do not fit there fully, move them to the line above the code</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># good</span>
<span class="kw">a_function_you_want_to_call</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">3</span>), <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>)) <span class="co"># a quick comment</span>

<span class="co"># longer comments that do not fit on the same line with the code are put above</span>
<span class="kw">a_function_you_want_to_call</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">3</span>), <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>))

<span class="co"># bad</span>
<span class="kw">a_function_you_want_to_call</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">3</span>), <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>)) <span class="co"># longer comments </span>
<span class="co"># that do not fit on the same line with the code are not put like this</span></code></pre></div>
<p>In line with the previous subsection, we recommend having a set of three levels of granularity available for explaining code. Start with <code>##</code> so you have an option for both lower level and higher level comments left.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>For more information on the package, check out the <a href="https://cran.r-project.org/%20web/packages/roxygen2/vignettes/roxygen2.html">vignette</a>.<a href="commenting-code.html#fnref3">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="line-length.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nested-code.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
